# 临时笔记，待整理

- [/etc/profile、.bash_profile、bashrc](http://blog.csdn.net/gatieme/article/details/45064705)


- tiny note

shell 脚本运行报错: ```syntax error: unexpected end of file``` 。

解决方法: 
1. 使用 vim 打开文件，```:set fileformat=unix```。  
2. 使用 ```dos2unix <filename\>``` 指令:
```
# 如果报 "command not find"，需要下载 dos2unix
yum install -y dos2unix

dos2unix <filename\>
```
[dos2unix命令详解](http://man.linuxde.net/dos2unix)


3. 执行一个命令或脚本，将打印输出到文件：

```bash
<cmd> 2>&1 | tee mylog.log 
```

4. linux 权限  

[参考](http://blog.csdn.net/shuangde800/article/details/11016231)

5. rpm 命令  

```bash
# 查看是否安装某软件
rpm -qa 

# 普通删除模式
rpm -e xxx

# 强力删除模式, 使用普通删除模式时, 提示有其他强依赖时, 通过该指令进行强力删除
rpm -e nodeps xxx

# 安装
rpm -ivh xxx
```

- awk 

awk是一种编程语言，用于在linux/unix下对文本和数据进行处理。数据可以来自标准输入(stdin)、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。

```bash
awk [options] 'script' var=value file(s) 
awk [options] -f scriptfile var=value file(s)
```

命令参数
参数 | 描述  
---|---
-F fs | fs指定输入分隔符，fs可以是字符串或正则表达式，如-F:  
-v var=value | 赋值一个用户定义变量，将外部变量传递给awk  
-f scripfile | 从脚本文件中读取awk命令  
-m[fr] val | 对val值设置内在限制，-mf选项限制分配给val的最大块数目-mr选项限制记录的最大数目。这两个功能是Bell实验室版awk的扩展功能，在标准awk中不适用。

awk 由模式和操作组成

1. 模式  

    1. 正则表达式。
    2. 关系表达式: 使用运算符进行操作, 可以是字符串或数字的比较测试。
    3. 模式匹配表达式: 使用运算符 (匹配) 和 !(匹配)。 
    4. BEGIN 语句块, pattern 语句块, END 语句块。

2. 操作

    操作由一个或多个命令, 函数, 表达式 组成, 之间的换行用分号隔开

    1. 变量或数组赋值; 
    2. 输入命令; 
    3. 内置函数; 
    4. 控制语句; 

- 用户相关

1. 添加用户和用户组

2. 设置密码

3. 分配用户到组

使用 ```usermod``` 命令

```bash
usermod -a -G hadoop kylin

# 查看指定 group 的用户情况
cat /etc/group | grep hadoop
```

- vim 相关

    1. 从 ```.<filename>.swp``` 文件恢复成原文件: ```vi  -r  <filename>```, 然后删除相应的 ```.<filename>.swp``` 文件。


